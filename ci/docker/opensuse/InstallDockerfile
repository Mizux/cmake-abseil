FROM opensuse:latest

RUN zypper up -y \
&& zypper install -y gcc8-c++ cmake git \
&& zypper clean -a

ENV CC=gcc-8 CXX=g++-8

RUN cd /tmp \
&& git clone https://github.com/abseil/abseil-cpp.git \
&& cd abseil-cpp \
&& cmake -H. -Bbuild \
&& cmake --build build --target install \
&& cd .. \
&& rm -rf abseil-cpp

COPY install /
